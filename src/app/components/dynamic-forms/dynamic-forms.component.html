<div class="container-form">
    <h2 class="form-title">
        Dynamic Form
    </h2>
    <form #form="ngForm" [formGroup]="dynamicForm" (ngSubmit)="onSubmit(form)">
        <div class="form-group">
            <label for="name">
        <i class="material-icons">account_circle</i>
      </label>
            <input formControlName="userName" type="text" name="name" placeholder="Your Name">
        </div>
        <!--  -->
        <div class="form-group">
            <label for="email">
        <i class="material-icons">email</i>
      </label>
            <input formControlName="email" type="text" name="email" placeholder="Email">
        </div>
        <!--  -->
        <div class="form-group">
            <label for="password">
        <i class="material-icons">security</i>
      </label>
            <input formControlName="password" type="text" name="password" placeholder="Password">
        </div>
        <!--  -->
        <div class="form-group">
            <label for="phone">
        <i class="material-icons">phone</i>
      </label>
            <input formControlName="phoneNumber" type="text" name="phone" placeholder="Phone Number">
        </div>
        <!--  -->
        <div formArrayName="address" *ngFor="let ad of dynamicForm.get('address').controls; let i=index;">
            <br>
            <div [formGroupName]="i">
                <div class="form-group">
                    <label for="city">
                  <i class="material-icons">location_city</i>
                 </label>
                    <input formControlName="city" type="text" name="city" placeholder="City">
                </div>
                <div class="form-group">
                    <label for="street">
                   <i class="material-icons">add_road</i>
                     </label>
                    <input formControlName="street" type="text" name="street" placeholder="Street Address">
                </div>
                <div class="error-feedback" *ngIf="form.submitted && ad.controls.street.errors">
                    <p>There is an error</p>
                </div>
            </div>
            <br>
        </div>
        <button (click)="addAddress()" type="button" class="add submit">Add Address</button>
        <br>
        <button type="submit" class="submit">Submit</button>

    </form>
</div>